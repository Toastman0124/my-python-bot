name: Daily Python Script

# 設定什麼時候執行
on:
  schedule:
    # 這裡是用 Cron 格式，以下範例是「每天台灣時間早上 8 點」執行
    # 注意：GitHub 使用的是 UTC 時間，台灣是 UTC+8，所以要減 8 小時
    - cron: '0 0 * * *' 
  workflow_dispatch: # 這行讓你可以在網頁上手動點擊執行（方便測試）

jobs:
  build:
    runs-on: ubuntu-latest # 使用 Linux 系統

    steps:
    - name: 複製專案代碼
      uses: actions/checkout@v3

    - name: 設定 Python 環境
      uses: actions/setup-python@v4
      with:
        python-version: '3.10'

    - name: 安裝套件
      run: |
        if [ -f requirements.txt ]; then pip install -r requirements.txt; fi

    - name: 執行 Python 程式
      run: python main.py
